
<div class="cats-tags-container">
  {# 分类部分标题 #}
  <div class="category-all-title enhanced-title">
    <i class="fas fa-th"></i> 
    {{ _p('counter.categories', site.categories.length) }}
  </div>
  
  {# 分类展示 #}
  <div class="category-collage-categories">
    {%- for category in site.categories.toArray() %}
      <a href="{{ url_for(category.path) }}" class="category-collage-card" title="{{ category.name }}">
        <img src="{{ url_for('/images/core/' + category.name + '.jpg') }}" alt="{{ category.name }}">
        <div class="category-name">{{ category.name }}</div>
      </a>
    {%- endfor %}
  </div>
</div>


<div class="cats-tags-container">
  {# 标签云部分标题 #}
  <div class="tag-cloud-title enhanced-title">
    <i class="fas fa-tags"></i> 
    {{ _p('counter.tag_cloud', site.tags.length) }}
  </div>
  
  {# 2D 标签云：根据标签数量决定字体大小 #}
  <div class="tag-cloud-tags">
    {{ tagcloud({
      min_font: theme.tagcloud.min,
      max_font: theme.tagcloud.max,
      amount  : theme.tagcloud.amount,
      orderby : theme.tagcloud.orderby,
      order   : theme.tagcloud.order,
      class   : 'tag-cloud'
      })
    }}
  </div>

  {# 隐藏的 3D 标签云，配合 canvas 使用 #}
  <div id="tag-cloud-tags-3D" style="display:none;">
    {{ tagcloud({
      min_font: theme.tagcloud.min,
      max_font: theme.tagcloud.max,
      class: 'tag-cloud-3D'
    }) }}
  </div>

  {# 标签云 Canvas 容器 #}
  <div id="tagcloud-canvas-container" style="width: 100%; max-width: 700px; margin: 0 auto;">
    <canvas id="tagcanvas" style="width: 100%; height: auto; display: block;"></canvas>
  </div>
</div>
